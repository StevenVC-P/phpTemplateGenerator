{
  "agent_id": "refinement_orchestrator",
  "name": "Refinement Orchestrator Agent",
  "version": "1.0",
  "description": "Manages iterative template refinement process using visual feedback until satisfaction criteria are met",
  "capabilities": [
    "iterative_coordination",
    "satisfaction_assessment",
    "improvement_prioritization",
    "convergence_detection",
    "quality_gate_enforcement"
  ],
  "input_format": {
    "type": "template_package",
    "file_pattern": "final/template_*/",
    "includes": ["template_files", "visual_analysis", "improvement_history"]
  },
  "output_format": {
    "type": "refined_package",
    "file_name": "final/template_{id}_refined/",
    "includes": [
      "optimized_template",
      "iteration_log",
      "satisfaction_report",
      "visual_comparison"
    ]
  },
  "refinement_workflow": {
    "initialization": {
      "steps": [
        "capture_baseline_screenshots",
        "perform_initial_visual_analysis",
        "establish_improvement_targets",
        "create_iteration_plan"
      ]
    },
    "iteration_cycle": {
      "max_iterations": 5,
      "steps": [
        {
          "step": 1,
          "name": "visual_inspection",
          "agent": "visual_inspector",
          "input": "current_template_url",
          "output": "visual_analysis_report"
        },
        {
          "step": 2,
          "name": "improvement_planning",
          "agent": "improvement_planner",
          "input": "visual_analysis_report",
          "output": "improvement_plan"
        },
        {
          "step": 3,
          "name": "template_modification",
          "agent": "template_modifier",
          "input": "improvement_plan",
          "output": "updated_template"
        },
        {
          "step": 4,
          "name": "satisfaction_check",
          "agent": "satisfaction_evaluator",
          "input": "updated_template",
          "output": "satisfaction_status"
        }
      ]
    },
    "convergence_criteria": {
      "satisfaction_threshold": 8.5,
      "improvement_plateau": 0.1,
      "max_iterations_reached": 5,
      "critical_issues_resolved": true
    }
  },
  "improvement_strategies": {
    "visual_hierarchy": {
      "techniques": [
        "font_size_scaling",
        "color_contrast_enhancement",
        "spacing_optimization",
        "element_positioning"
      ],
      "success_metrics": [
        "clear_content_flow",
        "prominent_headings",
        "logical_reading_path"
      ]
    },
    "conversion_optimization": {
      "techniques": [
        "cta_button_enhancement",
        "form_simplification",
        "trust_signal_placement",
        "urgency_element_addition"
      ],
      "success_metrics": [
        "cta_prominence_score > 8.0",
        "form_completion_likelihood > 7.5",
        "trust_indicator_visibility"
      ]
    },
    "responsive_design": {
      "techniques": [
        "breakpoint_optimization",
        "mobile_layout_adjustment",
        "touch_target_sizing",
        "content_prioritization"
      ],
      "success_metrics": [
        "mobile_usability_score > 8.0",
        "tablet_layout_quality > 7.5",
        "cross_device_consistency"
      ]
    },
    "accessibility_enhancement": {
      "techniques": [
        "contrast_ratio_improvement",
        "alt_text_optimization",
        "keyboard_navigation_enhancement",
        "screen_reader_optimization"
      ],
      "success_metrics": [
        "wcag_compliance_score > 8.0",
        "color_contrast_ratio > 4.5",
        "keyboard_accessibility"
      ]
    }
  },
  "satisfaction_evaluation": {
    "scoring_categories": {
      "visual_appeal": {
        "weight": 0.25,
        "components": [
          "aesthetic_quality",
          "brand_consistency",
          "modern_design_principles",
          "visual_balance"
        ]
      },
      "user_experience": {
        "weight": 0.30,
        "components": [
          "navigation_clarity",
          "content_organization",
          "interaction_intuitiveness",
          "cognitive_load"
        ]
      },
      "conversion_potential": {
        "weight": 0.25,
        "components": [
          "cta_effectiveness",
          "value_proposition_clarity",
          "trust_building_elements",
          "friction_reduction"
        ]
      },
      "technical_quality": {
        "weight": 0.20,
        "components": [
          "responsive_design",
          "performance_indicators",
          "accessibility_compliance",
          "cross_browser_compatibility"
        ]
      }
    },
    "satisfaction_thresholds": {
      "excellent": 9.0,
      "good": 8.0,
      "acceptable": 7.0,
      "needs_improvement": 6.0
    }
  },
  "iteration_tracking": {
    "metrics_to_track": [
      "overall_satisfaction_score",
      "category_scores",
      "improvement_velocity",
      "issue_resolution_rate",
      "visual_quality_progression"
    ],
    "comparison_methods": [
      "side_by_side_screenshots",
      "score_progression_charts",
      "issue_resolution_timeline",
      "improvement_heatmaps"
    ]
  },
  "output_reporting": {
    "iteration_summary": {
      "includes": [
        "changes_made",
        "scores_achieved",
        "remaining_issues",
        "next_iteration_plan"
      ]
    },
    "final_report": {
      "includes": [
        "satisfaction_achievement",
        "improvement_journey",
        "before_after_comparison",
        "quality_certification"
      ]
    },
    "visual_documentation": {
      "screenshot_gallery": "all_iterations",
      "annotated_improvements": "highlighted_changes",
      "comparison_views": "before_after_overlays"
    }
  },
  "integration_points": {
    "visual_inspector": "screenshot_analysis",
    "template_engineer": "code_modifications",
    "design_critic": "design_validation",
    "cta_optimizer": "conversion_enhancement",
    "quality_assurance": "final_validation"
  },
  "automation_settings": {
    "auto_iteration": false,
    "human_approval_required": true,
    "quality_gate_enforcement": true,
    "rollback_on_regression": true
  }
}
